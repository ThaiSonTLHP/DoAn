@model BatDongSanId.Areas.Client.Models.ListViewModels.QLTKListViewModel
@{
    ViewData["Title"] = "Details";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}

<div class="container">
    <div class="row">
        <div class="col-sm-4">
            <div>
                <img height="235" style="border:1px solid black;" src="@Html.Raw(Model.taiKhoanViewModel.AnhDaiDienUrl)" />
            </div>
        </div>
        <div class="col-sm-8" style="border-left: 1px solid #00c1ff;">
            <div class="row">
                <div class="col-sm-12">
                    <p style="font-size: 13pt;">Tên: @Html.Raw(Model.taiKhoanViewModel.Ten)</p>
                    <p style="font-size: 13pt;">Email/ Tài khoản: @Html.Raw(Model.taiKhoanViewModel.Email)</p>
                    <p style="font-size: 13pt;">Địa chỉ: @Html.Raw(Model.taiKhoanViewModel.DiaChi)</p>
                    <p style="font-size: 13pt;">Số điện thoại: @Html.Raw(Model.taiKhoanViewModel.SoDienThoai)</p>
                    <p style="font-size: 13pt;">Số dư ví: @Html.Raw(Model.taiKhoanViewModel.SoDuVi)</p>
                    <p style="font-size: 13pt;">Loại tài khoản: @Html.Raw(Model.taiKhoanViewModel.LoaiTaiKhoan)</p>
                    <p id="userID" style="visibility:hidden;" data="@Model.taiKhoanViewModel.ID"></p>
                </div>
            </div>
        </div>
    </div>
    <hr />
    <div class="row">
        <div class="col-sm-6">
            <p style="font-size: 15pt;">Số tin đã đăng: @Html.Raw(Model.soTinDang)</p>
        </div>
        <div class="col-sm-6">
            <a asp-action="TinDaDang">Xem chi tiết</a>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-6">
            <p style="font-size: 15pt;">Số tin đã luu: @Html.Raw(Model.soTinLuu)</p>
        </div>
        <div class="col-sm-6">
            <a asp-action="TinDaLuu">Xem chi tiết</a>
        </div>
    </div>
    <hr />
    <a asp-action="" id="napTien" style="font-size: 15pt;">Nạp tiền</a>
    <div class="row" id="napTienForm" style="margin-top: 20px;">
        <div class="form-group col-sm-6">
            <input type="text" class="form-control" id="tien" placeholder="Nhập số tiền (VNĐ)" />
        </div>
        <div class="form-group col-sm-6">
            <input type="button" class="btn btn-primary" id="nap" value="Nạp" style="margin: 0px;" />
        </div>
    </div>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script type="text/javascript">
    $(document).ready(function () {
        $("#napTienForm").hide();
        $("#napTien").click(function () {
            if ($("#napTienForm").is(':hidden')) {
                $("#napTienForm").show('slow');
                return false;
            }
            return false;
        });
        $("#nap").click(function () {
            if ($("#tien").val() == "") {
                alert("Nhập số tiền!");
                return false;
            }
            var tien = $("#tien").val();
            var id = $("#userID").attr('data');
            $.ajax({
                url: '@Url.Action("NapTien", "TaiKhoan")',
                data: { 'id': id, 'tien': tien },
                type: "post",
                success: function (result) {
                    location.reload();
                }
            });
            return false;
        });
    })
</script>